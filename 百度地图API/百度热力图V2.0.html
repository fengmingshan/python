<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=mq8kwN2R8UPBHqFEqP9pLnQTYVpy6N9G"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>
    <title>热力图功能示例</title>
    <style type="text/css">
		ul,li{list-style: none;margin:0;padding:0;float:left;}
		html{height:100%}
		body{height:100%;margin:0px;padding:0px;font-family:"微软雅黑";}
		#container{height:500px;width:100%;}
		#r-result{width:100%;}
    </style>	
</head>
<body>
	<div id="container"></div>
	<div id="r-result">
		<input type="button"  onclick="openHeatmap();" value="显示热力图"/><input type="button"  onclick="closeHeatmap();" value="关闭热力图"/>
	</div>
</body>
</html>
<script type="text/javascript">
    var map = new BMap.Map("container");          // 创建地图实例

  	var point = new BMap.Point(103.798763, 25.503143);
    map.centerAndZoom(point, 15);             // 初始化地图，设置中心点坐标和地图级别
    map.enableScrollWheelZoom(); // 允许滚轮缩放
  
    var points =[
    {"lng":103.797472,"lat":25.537239,"count":186},
    {"lng":103.804789,"lat":25.538181,"count":189},
    {"lng":103.79953,"lat":25.4555893,"count":30},
    {"lng":103.79511,"lat":25.51525,"count":165},
    {"lng":103.79921,"lat":25.51704,"count":164},
    {"lng":103.799922,"lat":25.54866,"count":170},
    {"lng":103.8125916,"lat":25.5359211,"count":183},
    {"lng":103.8005524,"lat":25.5274429,"count":3},
    {"lng":103.809465,"lat":25.541678,"count":12},
    {"lng":103.7854,"lat":25.54391,"count":252},
    {"lng":103.78907,"lat":25.47143,"count":243},
    {"lng":103.76535,"lat":25.51071,"count":6},
    {"lng":103.8173676,"lat":25.5399075,"count":90},
    {"lng":103.78922,"lat":25.51152,"count":39},
    {"lng":103.82217,"lat":25.48265,"count":45},
    {"lng":103.81749,"lat":25.44297,"count":114},
    {"lng":103.82415,"lat":25.54201,"count":9},
    {"lng":103.812509,"lat":25.516747,"count":108},
    {"lng":103.81774,"lat":25.51774,"count":231},
    {"lng":103.826858,"lat":25.532761,"count":33},
    {"lng":103.82308,"lat":25.51879,"count":39},
    {"lng":103.836592,"lat":25.521515,"count":135},
    {"lng":103.820937,"lat":25.47817,"count":141},
    {"lng":103.80292,"lat":25.48415,"count":144},
    {"lng":103.8465,"lat":25.4839,"count":147},
    {"lng":103.8461,"lat":25.4716,"count":171},
    {"lng":103.81498,"lat":25.52268,"count":174},
    {"lng":103.725181,"lat":25.52793,"count":180},
    {"lng":103.79591,"lat":25.48256,"count":192},
    {"lng":103.80271,"lat":25.50535,"count":186},
    {"lng":103.76177,"lat":25.52286,"count":198},
    {"lng":103.789704,"lat":25.499803,"count":202},
    {"lng":103.8787,"lat":25.5148,"count":204},
    {"lng":103.7936,"lat":25.4908,"count":207},
    {"lng":103.8524,"lat":25.5186,"count":210},
    {"lng":103.79726,"lat":25.50118,"count":213},
    {"lng":103.806201,"lat":25.512784,"count":219},
    {"lng":103.78666,"lat":25.49592,"count":224},
    {"lng":103.81551,"lat":25.53305,"count":225},
    {"lng":103.8263855,"lat":25.5468254,"count":228},
    {"lng":103.8063431,"lat":25.4572544,"count":231},
    {"lng":103.79266,"lat":25.47713,"count":234},
    {"lng":103.78015,"lat":25.496298,"count":238},
    {"lng":103.770569,"lat":25.496977,"count":151},
    {"lng":103.80781,"lat":25.54633,"count":155},
    {"lng":103.818902,"lat":25.452051,"count":240},
    {"lng":103.8009415,"lat":25.531332,"count":258},
    {"lng":103.77481,"lat":25.50341,"count":249},
    {"lng":103.78618,"lat":25.49214,"count":252},
    {"lng":103.80955,"lat":25.49306,"count":255},
    {"lng":103.795351,"lat":25.533719,"count":264},
    {"lng":103.8262,"lat":25.423,"count":261},
    {"lng":103.838177,"lat":25.472863,"count":267},
    {"lng":103.80175,"lat":25.48889,"count":275},
    {"lng":103.79784,"lat":25.48672,"count":276},
    {"lng":103.8078461,"lat":25.5231934,"count":279},
    {"lng":103.77522,"lat":25.49938,"count":282},
    {"lng":103.8083,"lat":25.4326,"count":288},
    {"lng":103.78718,"lat":25.54009,"count":291},
    {"lng":103.79234,"lat":25.51932,"count":294},
    {"lng":103.80538,"lat":25.49012,"count":297},
    {"lng":103.80973,"lat":25.50319,"count":15},
    {"lng":103.783699,"lat":25.505401,"count":270},
    {"lng":103.777329,"lat":25.476488,"count":78},
    {"lng":103.831188,"lat":25.536112,"count":15},
    {"lng":103.79492,"lat":25.50868,"count":75},
    {"lng":103.78803,"lat":25.48423,"count":3},
    {"lng":103.79451,"lat":25.50212,"count":114},
    {"lng":103.8126221,"lat":25.4606895,"count":279},
    {"lng":103.810966,"lat":25.444024,"count":27},
    {"lng":103.7987366,"lat":25.4682941,"count":36},
    {"lng":103.87827,"lat":25.52306,"count":57},
    {"lng":103.820826,"lat":25.428093,"count":51},
    {"lng":103.80188,"lat":25.492874,"count":57},
    {"lng":103.79617,"lat":25.474684,"count":63},
    {"lng":103.812968,"lat":25.539541,"count":66},
    {"lng":103.80335,"lat":25.50993,"count":69},
    {"lng":103.7903366,"lat":25.4919853,"count":72},
    {"lng":103.810445,"lat":25.509904,"count":282},
    {"lng":103.76542,"lat":25.51334,"count":78},
    {"lng":103.807451,"lat":25.480542,"count":83},
    {"lng":103.87383,"lat":25.53442,"count":234},
    {"lng":103.72789,"lat":25.519053,"count":89},
    {"lng":103.734382,"lat":25.521291,"count":171},
    {"lng":103.82003,"lat":25.52351,"count":48},
    {"lng":103.79823,"lat":25.50709,"count":102},
    {"lng":103.74869,"lat":25.5264,"count":111},
    {"lng":103.78767,"lat":25.52405,"count":129},
    {"lng":103.787601,"lat":25.489569,"count":27},
    {"lng":103.77578,"lat":25.51363,"count":21},
    {"lng":103.79259,"lat":25.48135,"count":33},
    {"lng":103.81593,"lat":25.55062,"count":45},
    {"lng":103.89248,"lat":25.52381,"count":24},
    {"lng":103.8120193,"lat":25.5249271,"count":288},
    {"lng":103.8024,"lat":25.5134,"count":128},
    {"lng":103.80078,"lat":25.49621,"count":191},
    {"lng":103.80062,"lat":25.46383,"count":66},
    {"lng":103.7718,"lat":25.53318,"count":241},
    {"lng":103.81608,"lat":25.5138,"count":30},
    {"lng":103.8734,"lat":25.4982,"count":243},
    {"lng":103.8002319,"lat":25.478735,"count":12},
    {"lng":103.78905,"lat":25.47944,"count":18},
    {"lng":103.809798,"lat":25.460667,"count":153},
    {"lng":103.861801,"lat":25.5308,"count":60},
    {"lng":103.79456,"lat":25.50468,"count":14},
    {"lng":103.8919,"lat":25.508,"count":39},
    {"lng":103.7387543,"lat":25.522356,"count":132},
    {"lng":103.81985,"lat":25.49154,"count":198},
    {"lng":103.8391,"lat":25.4676,"count":228},
    {"lng":103.77176,"lat":25.51107,"count":132},
    {"lng":103.743086,"lat":25.506083,"count":24},
    {"lng":103.780777,"lat":25.504911,"count":228},
    {"lng":103.830619,"lat":25.490547,"count":168},
    {"lng":103.75599,"lat":25.50953,"count":51},
    {"lng":103.7408,"lat":25.525,"count":165},
    {"lng":103.7429,"lat":25.51901,"count":108},
    {"lng":103.79606,"lat":25.49103,"count":101},
    {"lng":103.80751,"lat":25.47142,"count":129},
    {"lng":103.7952,"lat":25.4985,"count":48},
    {"lng":103.848605,"lat":25.397085,"count":105},
    {"lng":103.8188,"lat":25.50871,"count":117},
    {"lng":103.839628,"lat":25.478096,"count":75},
    {"lng":103.81259,"lat":25.468215,"count":90},
    {"lng":103.81271,"lat":25.5014,"count":216},
    {"lng":103.75018,"lat":25.518395,"count":30},
    {"lng":103.81313,"lat":25.48186,"count":24},
    {"lng":103.8756,"lat":25.3002,"count":81},
    {"lng":103.866207,"lat":25.301277,"count":66},
    {"lng":103.805413,"lat":25.52623,"count":267},
    {"lng":103.826017,"lat":25.537517,"count":63},
    {"lng":103.8804,"lat":25.3077,"count":54},
    {"lng":103.810729,"lat":25.496926,"count":132},
    {"lng":103.780838,"lat":25.4935665,"count":183},
    {"lng":103.79943,"lat":25.50236,"count":90},
    {"lng":103.806108,"lat":25.47642,"count":111},
    {"lng":103.78147,"lat":25.50135,"count":9},
    {"lng":103.7969,"lat":25.49605,"count":8},
    {"lng":103.794866,"lat":25.47973,"count":291},
    {"lng":103.834224,"lat":25.416154,"count":150},
    {"lng":103.804154,"lat":25.495597,"count":123},
    {"lng":103.9347,"lat":25.2812,"count":69},
    {"lng":103.938188,"lat":25.296291,"count":78},
    {"lng":103.805536,"lat":25.485938,"count":240},
    {"lng":103.809812,"lat":25.454053,"count":99},
    {"lng":103.81781,"lat":25.49847,"count":51},
    {"lng":103.9173,"lat":25.3029,"count":36},
    {"lng":103.757778,"lat":25.42524,"count":180},
    {"lng":103.80162,"lat":25.52151,"count":87},
    {"lng":103.800673,"lat":25.482162,"count":126},
    {"lng":103.76697,"lat":25.50541,"count":140},
    {"lng":103.79941,"lat":25.45907,"count":135},
    {"lng":103.81126,"lat":25.4748,"count":106},
    {"lng":103.6908,"lat":25.4672,"count":132},
    {"lng":103.69079,"lat":25.46724,"count":132},
    {"lng":103.812304,"lat":25.477645,"count":9},
    {"lng":103.78923,"lat":25.50446,"count":24},
    {"lng":103.788945,"lat":25.459923,"count":42},
    {"lng":103.74731,"lat":25.539233,"count":219},
    {"lng":103.7933,"lat":25.524,"count":150},
    {"lng":103.81451,"lat":25.54812,"count":23},
    {"lng":103.815,"lat":25.5472,"count":201},
    {"lng":103.816,"lat":25.54854,"count":213},
    {"lng":103.79377,"lat":25.44967,"count":69},
    {"lng":103.83154,"lat":25.47589,"count":78},
    {"lng":103.844014,"lat":25.445274,"count":294},
    {"lng":103.686501,"lat":25.489599,"count":9},
    {"lng":103.835389,"lat":25.32059,"count":0},
    {"lng":103.862245,"lat":25.356579,"count":3},
    {"lng":103.8621,"lat":25.4182,"count":33},
    {"lng":103.872,"lat":25.45,"count":48},
    {"lng":103.868758,"lat":25.335656,"count":255},
    {"lng":103.837077,"lat":25.387322,"count":12},
    {"lng":103.784915,"lat":25.500871,"count":36},
    {"lng":103.8701,"lat":25.4754,"count":0},
    {"lng":103.741227,"lat":25.531558,"count":21},
    {"lng":103.84724,"lat":25.49194,"count":72},
    {"lng":103.810177,"lat":25.45114,"count":84},
    {"lng":103.78329,"lat":25.47117,"count":60},
    {"lng":103.8279,"lat":25.51993,"count":21},
    {"lng":103.846262,"lat":25.350546,"count":282},
    {"lng":103.83742,"lat":25.34425,"count":291},
    {"lng":103.707292,"lat":25.554059,"count":278},
    {"lng":103.827002,"lat":25.502205,"count":4},
    {"lng":103.778748,"lat":25.542682,"count":15},
    {"lng":103.7905,"lat":25.490264,"count":315},
    {"lng":103.786319,"lat":25.493891,"count":316},
    {"lng":103.783348,"lat":25.496472,"count":317},
    {"lng":103.7959,"lat":25.4929,"count":319},
    {"lng":103.8027,"lat":25.4987,"count":320},
    {"lng":103.8071,"lat":25.5163,"count":345},
    {"lng":103.801771,"lat":25.469531,"count":321},
    {"lng":103.802118,"lat":25.47138,"count":322},
    {"lng":103.802191,"lat":25.463666,"count":323},
    {"lng":103.7977,"lat":25.4818,"count":324},
    {"lng":103.797675,"lat":25.505293,"count":327},
    {"lng":103.796731,"lat":25.50615,"count":329},
    {"lng":103.79734,"lat":25.504479,"count":330},
    {"lng":103.79674,"lat":25.50615,"count":332},
    {"lng":103.78098,"lat":25.501169,"count":333},
    {"lng":103.7781,"lat":25.501252,"count":334},
    {"lng":103.784069,"lat":25.50352,"count":335},
    {"lng":103.781451,"lat":25.501174,"count":336},
    {"lng":103.782761,"lat":25.498612,"count":337},
    {"lng":103.79095,"lat":25.489721,"count":338},
    {"lng":103.796101,"lat":25.500198,"count":321},
    {"lng":103.797091,"lat":25.49141,"count":322},
    {"lng":103.7943,"lat":25.49117,"count":328},
    {"lng":103.79728,"lat":25.491123,"count":308},
    {"lng":103.796659,"lat":25.489773,"count":421},
    {"lng":103.803802,"lat":25.464474,"count":339},
    {"lng":103.7922,"lat":25.4846,"count":340},
    {"lng":103.7885,"lat":25.492,"count":399},
    {"lng":103.77717,"lat":25.5048,"count":402},
    {"lng":103.778104,"lat":25.503493,"count":405},
    {"lng":103.78104,"lat":25.50065,"count":406},
    {"lng":103.77996,"lat":25.501608,"count":343},
    {"lng":103.784066,"lat":25.503887,"count":344},
    {"lng":103.766938,"lat":25.510253,"count":396},
    {"lng":103.7557556,"lat":25.52080833,"count":393},
    {"lng":103.8032,"lat":25.5381,"count":390},
    {"lng":103.801427,"lat":25.50426,"count":452},
    {"lng":103.812086,"lat":25.50423,"count":389},
    {"lng":103.928569,"lat":25.289223,"count":15},
    {"lng":103.838204,"lat":25.374146,"count":9},
    {"lng":103.86823,"lat":25.38306,"count":60},
    {"lng":103.8264,"lat":25.546151,"count":126},
    {"lng":103.81912,"lat":25.50368,"count":180},
    {"lng":103.75492,"lat":25.51267,"count":12},
    {"lng":103.76669,"lat":25.46866,"count":0},
    {"lng":103.8225,"lat":25.49604,"count":204},
    {"lng":103.749409,"lat":25.428536,"count":45},
    {"lng":103.78732,"lat":25.50804,"count":84},
    {"lng":103.74783,"lat":25.53537,"count":3},
    {"lng":103.81858,"lat":25.54477,"count":27},
    {"lng":103.800431,"lat":25.451415,"count":6},
    {"lng":103.76754,"lat":25.51834,"count":42},
    {"lng":103.77148,"lat":25.48167,"count":21},
    {"lng":103.79568,"lat":25.49346,"count":210},
    {"lng":103.805168,"lat":25.542745,"count":24},
    {"lng":103.82491,"lat":25.52761,"count":276},
    {"lng":103.80967,"lat":25.534216,"count":273},
    {"lng":103.80923,"lat":25.46578,"count":87},
    {"lng":103.770236,"lat":25.540213,"count":18},
    {"lng":103.75272,"lat":25.52982,"count":57},
    {"lng":103.7979,"lat":25.51963,"count":243},
    {"lng":103.804264,"lat":25.516669,"count":141},
    {"lng":103.778098,"lat":25.507745,"count":45},
    {"lng":103.75607,"lat":25.51992,"count":27},
    {"lng":103.7217539,"lat":25.51219066,"count":15},
    {"lng":103.802777,"lat":25.467911,"count":351},
    {"lng":103.801975,"lat":25.497321,"count":354},
    {"lng":103.796951,"lat":25.498031,"count":357},
    {"lng":103.800386,"lat":25.494189,"count":359},
    {"lng":103.780543,"lat":25.505628,"count":360},
    {"lng":103.784172,"lat":25.497212,"count":363},
    {"lng":103.782421,"lat":25.499362,"count":364},
    {"lng":103.792156,"lat":25.527991,"count":366},
    {"lng":103.790317,"lat":25.529377,"count":367},
    {"lng":103.792571,"lat":25.523066,"count":369},
    {"lng":103.800704,"lat":25.491413,"count":372},
    {"lng":103.7575,"lat":25.520739,"count":384},
    {"lng":103.789558,"lat":25.488851,"count":378},
    {"lng":103.797508,"lat":25.496918,"count":379},
    {"lng":103.7136,"lat":25.50582,"count":36},
    {"lng":103.80019,"lat":25.44477,"count":39},
    {"lng":103.834383,"lat":25.302076,"count":3},
    {"lng":103.785649,"lat":25.51416,"count":63},
    {"lng":103.753075,"lat":25.466987,"count":54},
    {"lng":103.9146,"lat":25.35885,"count":6},
    {"lng":103.79387,"lat":25.512657,"count":137},
    {"lng":103.74379,"lat":25.526086,"count":56},
    {"lng":103.7799,"lat":25.52964,"count":81},
    {"lng":103.790801,"lat":25.506898,"count":153},
    {"lng":103.817606,"lat":25.548684,"count":43},
    {"lng":103.787554,"lat":25.476253,"count":186},
    {"lng":103.8214,"lat":25.53143,"count":138},
    {"lng":103.7163,"lat":25.5389,"count":210},
    {"lng":103.82298,"lat":25.48893,"count":246},
    {"lng":103.805218,"lat":25.463048,"count":108},
    {"lng":103.797566,"lat":25.461331,"count":117},
    {"lng":103.80792,"lat":25.48912,"count":285},
    {"lng":103.75799,"lat":25.52435,"count":36},
    {"lng":103.75794,"lat":25.52436,"count":38},
    {"lng":103.895006,"lat":25.295267,"count":9},
    {"lng":103.874733,"lat":25.311338,"count":12},
    {"lng":103.777187,"lat":25.49659,"count":323},
    {"lng":103.781357,"lat":25.498306,"count":311},
    {"lng":103.778799,"lat":25.507442,"count":374},
    {"lng":103.80937,"lat":25.47143,"count":336},
    {"lng":103.902822,"lat":25.302968,"count":21},
    {"lng":103.7838,"lat":25.51125,"count":111},
    {"lng":103.783411,"lat":25.494071,"count":226},
    {"lng":103.800786,"lat":25.495283,"count":318},
    {"lng":103.789444,"lat":25.498889,"count":339},
    {"lng":103.798624,"lat":25.502506,"count":341},
    {"lng":103.801905,"lat":25.506468,"count":346},
    {"lng":103.739737,"lat":25.523653,"count":363},
    {"lng":103.744944,"lat":25.521528,"count":100},
    {"lng":103.78463,"lat":25.504084,"count":365},
    {"lng":103.796351,"lat":25.465349,"count":138},
    {"lng":103.757378,"lat":25.499347,"count":96},
    {"lng":103.804226,"lat":25.469849,"count":360},
    {"lng":103.822075,"lat":25.504425,"count":18},
    {"lng":103.82056,"lat":25.52047,"count":234},
    {"lng":103.865024,"lat":25.430449,"count":6},
    {"lng":103.764,"lat":25.53018,"count":297},
    {"lng":103.796751,"lat":25.459831,"count":357},
    {"lng":103.8146,"lat":25.5484,"count":360},
    {"lng":103.809365,"lat":25.471442,"count":366},
    {"lng":103.800554,"lat":25.517407,"count":372},
    {"lng":103.827845,"lat":25.53848,"count":375},
    {"lng":103.791545,"lat":25.510596,"count":381},
    {"lng":103.81302,"lat":25.54468,"count":54},
    {"lng":103.781798,"lat":25.508258,"count":351},
    {"lng":103.818773,"lat":25.517758,"count":495},
    {"lng":103.78495,"lat":25.50897,"count":342},
    {"lng":103.788232,"lat":25.504603,"count":420},
    {"lng":103.781814,"lat":25.467886,"count":333},
    {"lng":103.800833,"lat":25.473889,"count":381},
    {"lng":103.804722,"lat":25.512222,"count":360},
    {"lng":103.790556,"lat":25.512222,"count":375},
    {"lng":103.778008,"lat":25.494529,"count":168},
    {"lng":103.820033,"lat":25.512579,"count":315},
    {"lng":103.828884,"lat":25.544751,"count":59},
    {"lng":103.818719,"lat":25.53325,"count":147},
    {"lng":103.817673,"lat":25.502294,"count":390},
    {"lng":103.816714,"lat":25.502019,"count":396},
    {"lng":103.815971,"lat":25.500954,"count":402},
    {"lng":103.814028,"lat":25.501085,"count":408},
    {"lng":103.816027,"lat":25.502224,"count":414},
    {"lng":103.80296,"lat":25.5023,"count":42},
    {"lng":103.802557,"lat":25.463539,"count":318},
    {"lng":103.807097,"lat":25.500436,"count":417},
    {"lng":103.792439,"lat":25.475222,"count":384},
    {"lng":103.808081,"lat":25.507838,"count":156},
    {"lng":103.81989,"lat":25.54179,"count":315},
    {"lng":103.775325,"lat":25.516653,"count":33},
    {"lng":103.806785,"lat":25.514595,"count":363},
    {"lng":103.788235,"lat":25.492232,"count":414},
    {"lng":103.783254,"lat":25.480216,"count":264},
    {"lng":103.76891,"lat":25.49444,"count":15},
    {"lng":103.81261,"lat":25.51942,"count":99},
    {"lng":103.836446,"lat":25.330984,"count":6},
    {"lng":103.79266,"lat":25.4935,"count":231},
    {"lng":103.729097,"lat":25.541701,"count":6},
    {"lng":103.780218,"lat":25.538138,"count":181},
    {"lng":103.815309,"lat":25.483221,"count":177},
    {"lng":104.16657,"lat":25.28271,"count":18},
    {"lng":104.171461,"lat":25.288472,"count":24},
    {"lng":104.18168,"lat":25.29446,"count":27},
    {"lng":103.795883,"lat":25.492576,"count":269},
    {"lng":103.84872,"lat":25.292226,"count":15},
    {"lng":103.813124,"lat":25.496566,"count":140},
    {"lng":103.83558,"lat":25.47577,"count":183},
    {"lng":103.801533,"lat":25.470706,"count":387},
    {"lng":103.790383,"lat":25.501439,"count":261},
    {"lng":103.818317,"lat":25.504688,"count":330},
    {"lng":103.786624,"lat":25.451843,"count":48},
    {"lng":103.81493,"lat":25.50865,"count":78},
    {"lng":104.11497,"lat":25.23453,"count":3},
    {"lng":103.79251,"lat":25.45746,"count":93},
    {"lng":103.82313,"lat":25.54488,"count":98},
    {"lng":103.805449,"lat":25.464598,"count":327},
    {"lng":103.799732,"lat":25.474636,"count":159},
    {"lng":103.716336,"lat":25.517138,"count":120},
    {"lng":103.82699,"lat":25.54027,"count":144},
    {"lng":103.799615,"lat":25.471174,"count":102},
    {"lng":103.82527,"lat":25.53577,"count":177},
    {"lng":103.81985,"lat":25.53625,"count":354},
    {"lng":103.80577,"lat":25.47102,"count":150},
    {"lng":103.7560009,"lat":25.540597,"count":321},
    {"lng":103.79578,"lat":25.52887,"count":72},
    {"lng":103.809661,"lat":25.539801,"count":423},
    {"lng":103.79251,"lat":25.498359,"count":258},
    {"lng":103.80249,"lat":25.46941,"count":167},
    {"lng":103.794609,"lat":25.499192,"count":423},
    {"lng":103.7944,"lat":25.498049,"count":426},
    {"lng":103.81536,"lat":25.49212,"count":249},
    {"lng":103.82294,"lat":25.51365,"count":24},
    {"lng":103.80495,"lat":25.48075,"count":39},
    {"lng":103.791612,"lat":25.498984,"count":309},
    {"lng":103.73664,"lat":25.526281,"count":9},
    {"lng":103.711815,"lat":25.459183,"count":105},
    {"lng":103.79492,"lat":25.4519,"count":147},
    {"lng":103.786996,"lat":25.48051,"count":267},
    {"lng":103.80196,"lat":25.47251,"count":294},
    {"lng":103.84397,"lat":25.47761,"count":6},
    {"lng":103.84024,"lat":25.47424,"count":21},
    {"lng":103.8182,"lat":25.46113,"count":120},
    {"lng":103.9442,"lat":25.4717,"count":3},
    {"lng":103.95098,"lat":25.534149,"count":5},
    {"lng":103.93252,"lat":25.513476,"count":6},
    {"lng":103.821636,"lat":25.508499,"count":9},
    {"lng":103.815203,"lat":25.504356,"count":60},
    {"lng":104.159098,"lat":25.279367,"count":0},
    {"lng":103.78238,"lat":25.46772,"count":288},
    {"lng":103.783461,"lat":25.507808,"count":120},
    {"lng":104.178052,"lat":25.287982,"count":33},
    {"lng":103.741939,"lat":25.467354,"count":174},
    {"lng":103.741271,"lat":25.534951,"count":69},
    {"lng":103.715606,"lat":25.467231,"count":18},
    {"lng":103.794315,"lat":25.444129,"count":261},
    {"lng":103.778999,"lat":25.50267,"count":400},
    {"lng":103.781543,"lat":25.50976,"count":495},
    {"lng":103.80875,"lat":25.472552,"count":300},
    {"lng":103.793477,"lat":25.483281,"count":162},
    {"lng":103.782687,"lat":25.490846,"count":30},
    {"lng":103.867897,"lat":25.330163,"count":18},
    {"lng":104.056729,"lat":25.247703,"count":45},
    {"lng":104.072097,"lat":25.261099,"count":48},
    {"lng":104.04529,"lat":25.250207,"count":6},
    {"lng":103.824328,"lat":25.522353,"count":6},
    {"lng":103.807864,"lat":25.539111,"count":198},
    {"lng":103.800475,"lat":25.530017,"count":308},
    {"lng":103.792485,"lat":25.510457,"count":105},
    {"lng":103.87563,"lat":25.46346,"count":120},
    {"lng":103.86004,"lat":25.47939,"count":186},
    {"lng":103.86562,"lat":25.49226,"count":27},
    {"lng":103.832527,"lat":25.515717,"count":291},
    {"lng":103.805459,"lat":25.492289,"count":21},
    {"lng":103.835561,"lat":25.483844,"count":225},
    {"lng":103.860617,"lat":25.361925,"count":24},
    {"lng":103.854387,"lat":25.313603,"count":28},
    {"lng":103.863196,"lat":25.515764,"count":36},
    {"lng":103.848633,"lat":25.379799,"count":15},
    {"lng":103.856992,"lat":25.412581,"count":18},
    {"lng":103.780327,"lat":25.525123,"count":54},
    {"lng":103.844931,"lat":25.418369,"count":57},
    {"lng":103.83504,"lat":25.308864,"count":30},
    {"lng":103.818654,"lat":25.537432,"count":84},
    {"lng":103.901336,"lat":25.322347,"count":39},
    {"lng":103.916225,"lat":25.319137,"count":45},
    {"lng":103.843037,"lat":25.234959,"count":6},
    {"lng":103.887876,"lat":25.527963,"count":12},
    {"lng":103.808662,"lat":25.426441,"count":0},
    {"lng":103.870145,"lat":25.362552,"count":36},
    {"lng":103.854258,"lat":25.284017,"count":39},
    {"lng":103.81642,"lat":25.42457,"count":72},
    {"lng":103.891492,"lat":25.514069,"count":69},
    {"lng":103.890732,"lat":25.318287,"count":48},
    {"lng":103.818826,"lat":25.436648,"count":189},
    {"lng":103.990123,"lat":25.252775,"count":0},
    {"lng":103.865385,"lat":25.505258,"count":114},
    {"lng":103.829601,"lat":25.453481,"count":156},
    {"lng":103.930622,"lat":25.374302,"count":0},
    {"lng":103.789957,"lat":25.531561,"count":192},
    {"lng":103.83989,"lat":25.26405,"count":24},
    {"lng":103.841392,"lat":25.284994,"count":36},
    {"lng":103.78718,"lat":25.529208,"count":208},
    {"lng":103.945791,"lat":25.368734,"count":9},
    {"lng":103.949758,"lat":25.381302,"count":12},
    {"lng":103.835673,"lat":25.195189,"count":3},
    {"lng":103.828643,"lat":25.189509,"count":12},
    {"lng":103.83355,"lat":25.53008,"count":285},
    {"lng":103.843199,"lat":25.357787,"count":21},
    {"lng":103.848694,"lat":25.52835,"count":150},
    {"lng":103.88605,"lat":25.50042,"count":162},
    {"lng":103.838576,"lat":25.481098,"count":237},
    {"lng":103.88773,"lat":25.48984,"count":102},
    {"lng":103.78801,"lat":25.52042,"count":51},
    {"lng":103.812028,"lat":25.525526,"count":312},
    {"lng":103.779497,"lat":25.474582,"count":303},
    {"lng":103.752952,"lat":25.505721,"count":312},
    {"lng":103.802232,"lat":25.465842,"count":320},
    {"lng":103.80369,"lat":25.46371,"count":305},
    {"lng":103.80742,"lat":25.483983,"count":331},
    {"lng":103.84004,"lat":25.45357,"count":219},
    {"lng":103.74971,"lat":25.52931,"count":126},
    {"lng":103.801724,"lat":25.493465,"count":361},
    {"lng":103.792683,"lat":25.511544,"count":384},
    {"lng":103.81979,"lat":25.498791,"count":343},
    {"lng":103.763816,"lat":25.536838,"count":75},
    {"lng":103.90236,"lat":25.33703,"count":33},
    {"lng":103.778146,"lat":25.499763,"count":370},
    {"lng":103.869175,"lat":25.372022,"count":63},
    {"lng":103.789532,"lat":25.444476,"count":24},
    {"lng":103.75945,"lat":25.52217,"count":300},
    {"lng":103.83806,"lat":25.40706,"count":45},
    {"lng":103.82735,"lat":25.41081,"count":96},
    {"lng":103.81254,"lat":25.41213,"count":75},
    {"lng":103.7622,"lat":25.50553,"count":99},
    {"lng":103.92615,"lat":25.36478,"count":15},
    {"lng":103.80065,"lat":25.41227,"count":120},
    {"lng":103.77672,"lat":25.50014,"count":312},
    {"lng":103.76747,"lat":25.49861,"count":87},
    {"lng":103.81194,"lat":25.49304,"count":96},
    {"lng":104.05796,"lat":25.17795,"count":9},
    {"lng":103.87985,"lat":25.21832,"count":18},
    {"lng":103.844474,"lat":25.252177,"count":45},
    {"lng":103.80086,"lat":25.51752,"count":411},
    {"lng":103.74655,"lat":25.52923,"count":39},
    {"lng":103.71253,"lat":25.4974,"count":60},
    {"lng":103.747248,"lat":25.536615,"count":354},
    {"lng":103.740833,"lat":25.524986,"count":304},
    {"lng":103.740834,"lat":25.524986,"count":308},
    {"lng":103.791156,"lat":25.436456,"count":105},
    {"lng":103.745556,"lat":25.525522,"count":429},
    {"lng":103.74995,"lat":25.528851,"count":435},
    {"lng":103.751797,"lat":25.524311,"count":123},
    {"lng":103.721575,"lat":25.524329,"count":72},
    {"lng":103.754692,"lat":25.522887,"count":421},
    {"lng":103.833411,"lat":25.21925,"count":51},
    {"lng":103.821743,"lat":25.543237,"count":114},
    {"lng":103.821759,"lat":25.542297,"count":115},
    {"lng":103.821797,"lat":25.542021,"count":116},
    {"lng":103.727819,"lat":25.525091,"count":204},
    {"lng":103.887294,"lat":25.27185,"count":72},
    {"lng":103.745406,"lat":25.523885,"count":162},
    {"lng":103.745809,"lat":25.52408,"count":163},
    {"lng":103.744809,"lat":25.523715,"count":168},
    {"lng":103.748847,"lat":25.523989,"count":349},
    {"lng":103.75594,"lat":25.50489,"count":216},
    {"lng":104.066068,"lat":25.201046,"count":120},
    {"lng":103.829168,"lat":25.510195,"count":111},
    {"lng":103.819396,"lat":25.455343,"count":174},
    {"lng":103.81716,"lat":25.46628,"count":215},
    {"lng":103.79177,"lat":25.47418,"count":51},
    {"lng":103.825676,"lat":25.546947,"count":210},
    {"lng":103.827901,"lat":25.543896,"count":211},
    {"lng":103.826998,"lat":25.545604,"count":212},
    {"lng":103.825369,"lat":25.547764,"count":134},
    {"lng":103.826829,"lat":25.545874,"count":399},
    {"lng":103.82715,"lat":25.54591,"count":403},
    {"lng":103.82621,"lat":25.546,"count":407},
    {"lng":103.82627,"lat":25.54559,"count":411},
    {"lng":103.802973,"lat":25.457809,"count":57},
    {"lng":103.811843,"lat":25.489652,"count":54},
    {"lng":103.758119,"lat":25.508294,"count":141},
    {"lng":103.75874,"lat":25.50153,"count":156},
    {"lng":103.808892,"lat":25.499222,"count":66},
    {"lng":103.788456,"lat":25.494078,"count":471},
    {"lng":103.789957,"lat":25.493927,"count":473},
    {"lng":103.789976,"lat":25.494492,"count":474},
    {"lng":103.812092,"lat":25.486667,"count":174},
    {"lng":103.777991,"lat":25.502499,"count":204},
    {"lng":103.823885,"lat":25.53189,"count":300},
    {"lng":103.823878,"lat":25.531901,"count":309},
    {"lng":103.782237,"lat":25.506397,"count":352},
    {"lng":103.782144,"lat":25.50684,"count":403},
    {"lng":103.782649,"lat":25.507091,"count":347},
    {"lng":103.825288,"lat":25.535669,"count":327},
    {"lng":103.75855,"lat":25.51944,"count":325},
    {"lng":103.840694,"lat":25.474569,"count":201},
    {"lng":103.84065,"lat":25.475044,"count":203},
    {"lng":103.840605,"lat":25.475476,"count":222},
    {"lng":103.84025,"lat":25.477105,"count":252},
    {"lng":103.840363,"lat":25.477424,"count":253},
    {"lng":103.840309,"lat":25.477839,"count":270},
    {"lng":103.84025,"lat":25.478251,"count":271},
    {"lng":103.759822,"lat":25.536907,"count":312},
    {"lng":103.759437,"lat":25.537037,"count":314},
    {"lng":103.759757,"lat":25.537113,"count":399},
    {"lng":103.759553,"lat":25.537216,"count":401},
    {"lng":103.759427,"lat":25.53786,"count":402},
    {"lng":103.759428,"lat":25.53785,"count":408},
    {"lng":103.759428,"lat":25.5376,"count":409},
    {"lng":103.759472,"lat":25.537864,"count":334},
    {"lng":103.759716,"lat":25.537805,"count":335},
    {"lng":103.759853,"lat":25.537806,"count":337},
    {"lng":103.741216,"lat":25.522389,"count":61},
    {"lng":103.740948,"lat":25.522691,"count":93},
    {"lng":103.742736,"lat":25.522827,"count":186},
    {"lng":103.742721,"lat":25.522543,"count":188},
    {"lng":103.743584,"lat":25.522459,"count":190},
    {"lng":103.816074,"lat":25.524212,"count":237},
    {"lng":103.789014,"lat":25.494081,"count":367},
    {"lng":103.812519,"lat":25.511371,"count":12},
    {"lng":103.8053121,"lat":25.506335,"count":156},
    {"lng":103.759894,"lat":25.538013,"count":66},
    {"lng":103.759565,"lat":25.536815,"count":67},
    {"lng":103.759731,"lat":25.537266,"count":311},
    {"lng":103.827256,"lat":25.544707,"count":40},
    {"lng":103.82742,"lat":25.543495,"count":41},
    {"lng":103.827407,"lat":25.543061,"count":42},
    {"lng":103.828358,"lat":25.543892,"count":43},
    {"lng":103.828359,"lat":25.544795,"count":44},
    {"lng":103.8177414,"lat":25.530426,"count":123},
    {"lng":103.793869,"lat":25.5267315,"count":159},
    {"lng":103.8112183,"lat":25.5301151,"count":93},
    {"lng":103.76113,"lat":25.51653,"count":117},
    {"lng":103.789688,"lat":25.536223,"count":60},
    {"lng":103.820059,"lat":25.548948,"count":270},
    {"lng":103.774059,"lat":25.506912,"count":177},
    {"lng":103.758765,"lat":25.527771,"count":0},
    {"lng":103.935196,"lat":25.53966,"count":27},
    {"lng":103.73437,"lat":25.51506,"count":33},
    {"lng":103.793869,"lat":25.526732,"count":159},
    {"lng":103.80421,"lat":25.47539,"count":195},
    {"lng":103.822802,"lat":25.540742,"count":0},
    {"lng":103.822809,"lat":25.540899,"count":1},
    {"lng":103.822056,"lat":25.540085,"count":18},
    {"lng":103.821575,"lat":25.539852,"count":2},
    {"lng":103.820577,"lat":25.539866,"count":3},
    {"lng":103.821954,"lat":25.542365,"count":205},
    {"lng":103.821415,"lat":25.542561,"count":206},
    {"lng":103.821404,"lat":25.542135,"count":240},
    {"lng":103.820544,"lat":25.543019,"count":242},
    {"lng":103.820653,"lat":25.541885,"count":243},
    {"lng":103.822002,"lat":25.543491,"count":26},
    {"lng":103.822732,"lat":25.543685,"count":27},
    {"lng":103.822143,"lat":25.544181,"count":427},
    {"lng":103.819087,"lat":25.538351,"count":428},
    {"lng":103.798751,"lat":25.503614,"count":30},
    {"lng":103.746978,"lat":25.507711,"count":273},
    {"lng":103.746974,"lat":25.507108,"count":275},
    {"lng":103.746992,"lat":25.506495,"count":277},
    {"lng":103.746954,"lat":25.506047,"count":195},
    {"lng":103.747004,"lat":25.505451,"count":197},
    {"lng":103.746968,"lat":25.50494,"count":256},
    {"lng":103.81844,"lat":25.513596,"count":349},
    {"lng":103.781484,"lat":25.49467,"count":45},
    {"lng":103.7834,"lat":25.49407,"count":227},
    {"lng":103.82064,"lat":25.504549,"count":171},
    {"lng":103.82163,"lat":25.50454,"count":171},
    {"lng":103.820643,"lat":25.506233,"count":172},
    {"lng":103.821991,"lat":25.506273,"count":173},
    {"lng":103.820624,"lat":25.506707,"count":172},
    {"lng":103.822069,"lat":25.506724,"count":173},
    {"lng":103.82063,"lat":25.508328,"count":195},
    {"lng":103.822292,"lat":25.50833,"count":195},
    {"lng":103.820626,"lat":25.509378,"count":196},
    {"lng":103.822387,"lat":25.509024,"count":196},
    {"lng":103.820601,"lat":25.510564,"count":197},
    {"lng":103.822565,"lat":25.510653,"count":197},
    {"lng":103.82062,"lat":25.511073,"count":270},
    {"lng":103.82261,"lat":25.511084,"count":270},
    {"lng":103.820578,"lat":25.512614,"count":271},
    {"lng":103.822321,"lat":25.512708,"count":271},
    {"lng":103.820005,"lat":25.512453,"count":272},
    {"lng":103.820037,"lat":25.510947,"count":272},
    {"lng":103.793525,"lat":25.484595,"count":219},
    {"lng":103.794128,"lat":25.484314,"count":220},
    {"lng":103.794349,"lat":25.483438,"count":262},
    {"lng":103.8176,"lat":25.45452,"count":427},
    {"lng":103.826503,"lat":25.54327,"count":42},
    {"lng":103.825304,"lat":25.543804,"count":265},
    {"lng":103.825927,"lat":25.544125,"count":268},
    {"lng":103.826056,"lat":25.543839,"count":269},
    {"lng":103.826049,"lat":25.543232,"count":120},
    {"lng":103.824838,"lat":25.541265,"count":121},
    {"lng":103.824641,"lat":25.541041,"count":122},
    {"lng":103.826257,"lat":25.540377,"count":129},
    {"lng":103.826862,"lat":25.540706,"count":130},
    {"lng":103.822514,"lat":25.531002,"count":282},
    {"lng":103.822213,"lat":25.530769,"count":283},
    {"lng":103.823507,"lat":25.53213,"count":249},
    {"lng":103.823612,"lat":25.531669,"count":284},
    {"lng":103.824234,"lat":25.528182,"count":285},
    {"lng":103.823094,"lat":25.530738,"count":246},
    {"lng":103.822171,"lat":25.530358,"count":250},
    {"lng":103.823322,"lat":25.527349,"count":249},
    {"lng":103.823408,"lat":25.531956,"count":374},
    {"lng":103.839589,"lat":25.478202,"count":252},
    {"lng":103.839602,"lat":25.477728,"count":253},
    {"lng":103.839632,"lat":25.477312,"count":254},
    {"lng":103.839854,"lat":25.477026,"count":207},
    {"lng":103.839839,"lat":25.475766,"count":208},
    {"lng":103.839927,"lat":25.475343,"count":209},
    {"lng":103.839939,"lat":25.474898,"count":210},
    {"lng":103.839965,"lat":25.474469,"count":211},
    {"lng":103.74141,"lat":25.52438,"count":476},
    {"lng":103.74099,"lat":25.52418,"count":480},
    {"lng":103.74057,"lat":25.52404,"count":486},
    {"lng":103.82592,"lat":25.54565,"count":384},
    {"lng":103.825421,"lat":25.533087,"count":321},
    {"lng":103.74101,"lat":25.52577,"count":366},
    {"lng":103.766136,"lat":25.504052,"count":328},
    {"lng":103.765807,"lat":25.503311,"count":329},
    {"lng":103.783108,"lat":25.49808,"count":7},
    {"lng":103.7838,"lat":25.48951,"count":350},
    {"lng":103.815349,"lat":25.50364,"count":439},
    {"lng":103.782082,"lat":25.506062,"count":171},
    {"lng":103.782034,"lat":25.50656,"count":172},
    {"lng":103.782104,"lat":25.507041,"count":173},
    {"lng":103.78266,"lat":25.50702,"count":195},
    {"lng":103.782621,"lat":25.507487,"count":196},
    {"lng":103.754452,"lat":25.528403,"count":66},
    {"lng":103.789937,"lat":25.498256,"count":246},
    {"lng":103.786339,"lat":25.498678,"count":180},
    {"lng":103.769281,"lat":25.523756,"count":234},
    {"lng":103.742151,"lat":25.513115,"count":279},
    {"lng":103.78844,"lat":25.49417,"count":443},
    {"lng":103.80696,"lat":25.49862,"count":466},
    {"lng":103.811689,"lat":25.470272,"count":0},
    {"lng":104.06389,"lat":25.25389,"count":39},
    {"lng":103.819753,"lat":25.528124,"count":357},
    {"lng":103.840007,"lat":25.474507,"count":223},
    {"lng":103.837562,"lat":25.474618,"count":320},
    {"lng":103.83774,"lat":25.474567,"count":322},
    {"lng":103.837694,"lat":25.474589,"count":323},
    {"lng":103.80315,"lat":25.49527,"count":141},
    {"lng":103.79931,"lat":25.49469,"count":142},
    {"lng":103.791911,"lat":25.50152,"count":143},
    {"lng":103.7919,"lat":25.5031,"count":147},
    {"lng":103.794631,"lat":25.502945,"count":149},
    {"lng":103.890028,"lat":25.445955,"count":5},
    {"lng":103.82559,"lat":25.54723,"count":480},
    {"lng":103.75035,"lat":25.52885,"count":492},
    {"lng":103.825632,"lat":25.537625,"count":216},
    {"lng":103.824309,"lat":25.537027,"count":225},
    {"lng":103.794872,"lat":25.534258,"count":435},
    {"lng":103.801831,"lat":25.460507,"count":168},
    {"lng":103.801636,"lat":25.461372,"count":169},
    {"lng":103.81337,"lat":25.4633,"count":270},
    {"lng":103.806496,"lat":25.504799,"count":0},
    {"lng":103.809494,"lat":25.478601,"count":282},
    {"lng":103.788563,"lat":25.516169,"count":147},
    {"lng":103.816572,"lat":25.479565,"count":289},
    {"lng":103.799095,"lat":25.524599,"count":286},
    {"lng":103.817101,"lat":25.520501,"count":82},
    {"lng":104.168047,"lat":25.279175,"count":14},
    {"lng":103.789187,"lat":25.433803,"count":104},
    {"lng":103.826868,"lat":25.526495,"count":207},
    {"lng":103.79158,"lat":25.4933,"count":423},
    {"lng":103.837787,"lat":25.475766,"count":90},
    {"lng":103.837339,"lat":25.475493,"count":91},
    {"lng":103.837557,"lat":25.475995,"count":92},
    {"lng":103.837583,"lat":25.475623,"count":264},
    {"lng":103.837803,"lat":25.476186,"count":266},
    {"lng":103.820504,"lat":25.535315,"count":186},
    {"lng":103.820505,"lat":25.534971,"count":187},
    {"lng":103.820491,"lat":25.53465,"count":188},
    {"lng":103.820483,"lat":25.53431,"count":45}];
    if(!isSupportCanvas()){
    	alert('热力图目前只支持有canvas支持的浏览器,您所使用的浏览器不能使用热力图功能~')
    }
	//详细的参数,可以查看heatmap.js的文档 https://github.com/pa7/heatmap.js/blob/master/README.md
	//参数说明如下:
	/* visible 热力图是否显示,默认为true
     * opacity 热力的透明度,1-100
     * radius 势力图的每个点的半径大小   
     * gradient  {JSON} 热力图的渐变区间 . gradient如下所示
     *	{
			.2:'rgb(0, 255, 255)',
			.5:'rgb(0, 110, 255)',
			.8:'rgb(100, 0, 255)'
		}
		其中 key 表示插值的位置, 0~1. 
		    value 为颜色值. 
     */
	heatmapOverlay = new BMapLib.HeatmapOverlay({"radius":20});
	map.addOverlay(heatmapOverlay);
	heatmapOverlay.setDataSet({data:points,max:504});
	//是否显示热力图
    function openHeatmap(){
        heatmapOverlay.show();
    }
	function closeHeatmap(){
        heatmapOverlay.hide();
    }
	closeHeatmap();
    function setGradient(){
     	/*格式如下所示:
		{
	  		0:'rgb(102, 255, 0)',
	 	 	.5:'rgb(255, 170, 0)',
		  	1:'rgb(255, 0, 0)'
		}*/
     	var gradient = {};
     	var colors = document.querySelectorAll("input[type='color']");
     	colors = [].slice.call(colors,0);
     	colors.forEach(function(ele){
			gradient[ele.getAttribute("data-key")] = ele.value; 
     	});
        heatmapOverlay.setOptions({"gradient":gradient});
    }
	//判断浏览区是否支持canvas
    function isSupportCanvas(){
        var elem = document.createElement('canvas');
        return !!(elem.getContext && elem.getContext('2d'));
    }
</script>